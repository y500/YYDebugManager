(function(e){function t(t){for(var o,s,l=t[0],c=t[1],a=t[2],f=0,d=[];f<l.length;f++)s=l[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,a||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var a=0;a<l.length;a++)t(l[a]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},"0597":function(e,t,n){"use strict";var o=n("e064"),i=n.n(o);i.a},"12dc":function(e,t,n){"use strict";var o=n("3c4f"),i=n.n(o);i.a},"2b19":function(e,t,n){},"3c4f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[e._v("日志输出")]),n("el-menu-item",{attrs:{index:"2"}},[e._v("网络请求")])],1),"1"==e.activeIndex?n("LogView",{attrs:{logList:e.logList}}):e._e(),"2"==e.activeIndex?n("div",[n("NetworkView",{attrs:{networkRequest:e.networkRequest},on:{showNetworkDetail:e.showNetworkDetail}}),e.showDetail?n("NetworkDetailView",{attrs:{requestDetail:e.detailData}}):e._e()],1):e._e()],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"log"}},e._l(e.logList,(function(t,o){return n("pre",{key:o,staticClass:"pre",style:"color: "+t.color+" !important"},[e._v(">"+e._s(t.message))])})),0)},l=[],c={name:"HelloWorld",props:{logList:Array}},a=c,u=(n("12dc"),n("2877")),f=Object(u["a"])(a,s,l,!1,null,"fa7c6616",null),d=f.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[n("v-table",{staticStyle:{width:"100%"},attrs:{"is-horizontal-resize":"","column-width-drag":"",height:400,columns:e.columns,"table-data":e.networkList,"row-hover-color":"rgba(17, 136, 255, 0.4)","row-click-color":"rgba(17, 136, 255, 0.5)","odd-bg-color":"#ffffff","even-bg-color":"#ECF3FF","row-height":30,"column-cell-class-name":e.columnCellClass,"row-click":e.rowClick}})],1)},p=[],h=(n("34bf"),n("e5fb"));o["default"].component(h["VTable"].name,h["VTable"]),o["default"].component(h["VPagination"].name,h["VPagination"]);var v={name:"HelloWorld",props:["networkRequest"],computed:{networkList:function(){return Object.values(this.networkRequest)}},methods:{rowClick:function(e,t){this.$emit("showNetworkDetail",t)},columnCellClass:function(e,t,n){return console.log(e,n,t),"cell"}},data:function(){return{columns:[{field:"code",title:"Response Code",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"host",title:"Host",width:150,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"path",title:"Path",width:180,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"method",title:"Method",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"status",title:"Status",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"startDate",title:"StartDate",width:80,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"duration",title:"Duration",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"mimeType",title:"MIMEType",width:50,titleAlign:"center",columnAlign:"center",isResize:!0},{field:"size",title:"Size",width:50,titleAlign:"center",columnAlign:"center",isResize:!0}]}}},m=v,b=(n("9cdd"),Object(u["a"])(m,g,p,!1,null,"7008234f",null)),w=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},e._l(this.requestDetail,(function(t,o){return n("div",{key:o,staticClass:"section"},[n("div",{staticClass:"section-head",on:{click:function(n){e.foldSectionView(Object.keys(t)[0])}}},[n("div",{staticClass:"section-title"},[e._v(e._s(Object.keys(t)[0]))]),n("div",{staticClass:"section-operate"},[e._v(e._s(e.unfoldSection[Object.keys(t)[0]]?" [click to fold] ":" [click to unfold] "))])]),e.unfoldSection[Object.keys(t)[0]]?n("div",[e.isStringContent(Object.values(t)[0])?n("div",[n("div",{staticClass:"response-content"},[e.isValidJson(Object.values(t)[0])?n("vue-json-pretty",{attrs:{path:"res",showLine:!0,data:JSON.parse(Object.values(t)[0])}}):n("pre",{attrs:{id:"response-content"}},[e._v(e._s(e.jsonFormateString(Object.values(t)[0])))])],1)]):n("div",e._l(Object.values(t)[0],(function(t,o){return n("div",{key:o},[e.hasSubItems(t[Object.keys(t)[0]])?n("div",[n("div",{staticClass:"left left-padding",on:{click:function(n){e.foldView(Object.keys(t)[0])}}},[e._v(e._s(Object.keys(t)[0]))]),n("div",e._l(t[Object.keys(t)[0]],(function(t,o){return n("div",{key:o,class:[o%2?"row-color":"","row"],style:e.rowStyle(o)},[n("div",{staticClass:"left sub-row"},[e._v(e._s(Object.keys(t)[0]))]),n("div",{staticClass:"right"},[e._v(e._s(t[Object.keys(t)[0]]))])])})),0)]):n("div",[n("div",{class:[o%2?"row-color":"","row"]},[n("div",{staticClass:"left left-padding"},[e._v(e._s(Object.keys(t)[0]))]),n("div",{staticClass:"right"},[e._v(e._s(t[Object.keys(t)[0]]))])])])])})),0)]):e._e()])})),0)},k=[],O=n("d538"),S=n.n(O),_={name:"HelloWorld",props:["requestDetail"],components:{VueJsonPretty:S.a},computed:{overviewKeys:function(){return Object.keys(this.requestDetail.Overview)}},data:function(){return{unfoldSection:{"Request Query":!0,"Response Data":!0}}},methods:{rowStyle:function(e){var t={};return t.backgroundColor=e%2===1?"#f3f3f3":"#ffffff",console.log(e,t),t},hasSubItems:function(e){return Array.isArray(e)},isStringContent:function(e){return"string"===typeof e},objectKeys:function(e){return Object.keys(e)},foldSectionView:function(e){this.unfoldSection[e]?this.$set(this.unfoldSection,e,!1):this.$set(this.unfoldSection,e,!0)},jsonFormateString:function(e){return e.length>0&&this.isValidJson(e)?JSON.stringify(JSON.parse(e),null,4):e.startsWith("<?xml")?this.xmlFormateString(e):e},xmlFormateString:function(e){var t=/(>)\s*(<)(\/*)/g,n=/ *(.*) +\n/g,o=/(<.+>)(.+\n)/g;e=e.replace(t,"$1\n$2$3").replace(n,"$1\n").replace(o,"$1\n$2");for(var i="",r=e.split("\n"),s=0,l="other",c={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0},a=0;a<r.length;a++){var u=r[a];if(u.match(/\s*<\?xml/))i+=u+"\n";else{var f=Boolean(u.match(/<.+\/>/)),d=Boolean(u.match(/<\/.+>/)),g=Boolean(u.match(/<[^!].*>/)),p=f?"single":d?"closing":g?"opening":"other",h=l+"->"+p;l=p;var v="";s+=c[h];for(var m=0;m<s;m++)v+="\t";"opening->closing"==h?i=i.substr(0,i.length-1)+u+"\n":i+=v+u+"\n"}}return i},isValidJson:function(e){try{return JSON.parse(e),!0}catch(t){return!1}}}},j=_,C=(n("0597"),Object(u["a"])(j,y,k,!1,null,"32dd1650",null)),x=C.exports,D=n("5c96");n("0fae");function A(e){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}o["default"].use(D["Menu"]),o["default"].use(D["MenuItem"]),o["default"].use(D["Submenu"]);var N={name:"App",components:{LogView:d,NetworkView:w,NetworkDetailView:x},data:function(){return{networkRequest:{},logList:[],showDetail:!1,detailData:{},activeIndex:"1"}},mounted:function(){var e=this,t=document.location.hostname,n=new WebSocket("ws://"+t+":9000","echo-protocol");n.onopen=function(){e.receiveLog({message:"CONNECT",color:"#00ff00"})},n.onclose=function(){e.receiveLog({message:"DISCONNECT",color:"#ff0000"})},n.onmessage=function(t){e.eventHandler(t)}},methods:{receiveLog:function(e){this.logList.push(e)},eventHandler:function(e){var t=JSON.parse(e.data);if(console.log("====",JSON.stringify(e.data),A(t)),t&&"string"===typeof t)this.receiveLog({message:e.data,color:"#333333"});else switch(t.type){case"log":this.receiveLog(t);break;case"network":this.$set(this.networkRequest,t.taskID,t);break;default:break}console.log(JSON.stringify(this.networkRequest))},showNetworkDetail:function(e){this.detailData=e.fullData,this.showDetail=!0},handleSelect:function(e){console.log(e),this.activeIndex=e}}},R=N,V=(n("034f"),Object(u["a"])(R,i,r,!1,null,null,null)),L=V.exports;o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(L)}}).$mount("#app")},"85ec":function(e,t,n){},"9cdd":function(e,t,n){"use strict";var o=n("2b19"),i=n.n(o);i.a},e064:function(e,t,n){}});
//# sourceMappingURL=app.1ee4f9cd.js.map